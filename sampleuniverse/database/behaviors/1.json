{"name":"Shows text (like a sign)","__authors":["admin"],"targets":["landscape item"],"code":"// Keep track of everyone who can currently see the sign.\nvar viewers = [ ];\n// When a player steps on the landscape item, show the text written on it,\n// as given in the text parameter to this behavior.  Store the unique ID\n// for that animation in the player object itself, since that animation\n// does not expire, and we thus must be able to cancel it later.\nthis.on( 'entered', function ( player ) {\n    player.showTextAnimationID = showAnimation( this.position, 'show text', {\n        text : text,\n        player : player.name,\n        location : this.position\n    } );\n    // Also add this player to the list of people who can see the sign.\n    for ( var i = 0 ; i < viewers.length ; i++ )\n        if ( viewers[i] == player ) return;\n    viewers.push( player );\n} );\n// When a player steps off the landscape item, cancel the animation you\n// started in the previous function, thus hiding the text written on the item.\nthis.on( 'exited', function ( player ) {\n    stopAnimation( player.showTextAnimationID );\n    // Also remove this player from the list of people who can see the sign.\n    for ( var i = 0 ; i < viewers.length ; i++ ) {\n        if ( viewers[i] == player ) {\n            viewers.splice( i, 1 );\n            return;\n        }\n    }\n} );\n// When the block is reset, be sure to stop the animation also, for all viewers.\nthis.on( 'destroyed', function () {\n    for ( var i = 0 ; i < viewers.length ; i++ )\n        stopAnimation( viewers[i].showTextAnimationID );\n} );","description":"Shows the given text at the given location on the map, to the given player.  This animation does not expire, so it will need to be canceled with a stopAnimation() call.","parameters":{"text":"a string, the text to display (may contain \\\\n to break lines)"}}