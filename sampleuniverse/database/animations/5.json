{"name":"hit","__authors":["admin"],"duration":0.15,"description":"This animation takes two parameters, an \"agent\" and a \"target.\"  Each must be the name of a player or the ID of a creature in the game.  The animation shows a sharp leap of the agent in the direction of the target, to suggest that the agent is striking the target.","code":"// find the positions we should be using for the agent and the target; if either is missing, give up\nvar apos = XY(POS(agent));\nvar tpos = XY(POS(target));\nif ( !apos || !tpos ) return;\n// we need a teepee function of t, defined here, to move out and back as t goes from 0 to 1.\nvar f_of_t = ( t < 0.5 ) ? 2*t : 2-2*t;\n// for the first half of the animation, move the agent toward the target;\n// for the second half of the animation, move the agent back; use the teepee function.\nsetVisibleOffset( agent, ( tpos.x - apos.x )*f_of_t, ( tpos.y - apos.y )*f_of_t );"}