{"name":"miss","__authors":["admin"],"duration":0.15,"description":"This animation takes two parameters, an \"agent\" and a \"target.\"  Each must be the name of a player or the ID of a creature in the game.  The animation shows a small wiggle from the agent toward the target, to suggest that the agent attempted to strike the target, but failed.","code":"// find the positions we should be using for the agent and the target; if either is missing, give up\nvar apos = XY(POS(agent));\nvar tpos = XY(POS(target));\nif ( !apos || !tpos ) return;\n// we need a function of t that makes a small wiggle up and down\nvar f_of_t = Math.sin( 2*Math.PI*t )*0.2;\n// for the first half of the animation, move the agent toward the target;\n// for the second half of the animation, move the agent back; use the teepee function.\nsetVisibleOffset( agent, ( tpos.x - apos.x )*f_of_t, ( tpos.y - apos.y )*f_of_t );"}