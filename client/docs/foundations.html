<html>
    <head>
        <script src='https://code.jquery.com/jquery-1.11.2.min.js'></script>
        <script src='https://code.jquery.com/jquery-migrate-1.2.1.min.js'>
        </script>
        <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css'/>
        <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css'/>
        <script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js'>
        </script>
        <link rel="stylesheet" href="../codemirror.css">
        <script src="../codemirror.js"></script>
        <script src="../codemirror-javascript-mode.js"></script>
        <title>MakerLand - Behavior Coding Documentation</title>
    </head>
    <body style='padding-top: 50px;'>

        <nav class="navbar navbar-inverse navbar-fixed-top">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed"
                      data-toggle="collapse" data-target="#navbar"
                      aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">MakerLand Coder Documentation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#">MakerLand</a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
              <ul class="nav navbar-nav">
                <li><a href="index.html">Docs Home</a></li>
                <li class="active"><a href="#">Foundations</a></li>
                <li><a href="animationcoding.html">Animations</a></li>
                <li><a href="behaviorcoding.html">Behaviors</a></li>
              </ul>
            </div><!--/.nav-collapse -->
          </div>
        </nav>

        <div class="container">

            <div class="starter-template">
                <h1>Foundations</h1>
                <p class="lead">First steps toward being a maker</p>
            </div>

            <p>This page is a reference for several of the smaller, simpler
                concepts that it's necessary to know before diving into
                writing code in MakerLand.  Read this page before reading
                the other maker documents linked to in the navigation bar
                above.</p>

            <h2>How are locations in the game world stored?</h2>
            <p>The game map is made up of many "planes," each of which is a
                flat surface that extends arbitrarily far in all
                directions.  The first plane in the game is numbered 0, and
                each additional plane created by makers within the game is
                numbered successively, 1, 2, 3, etc.</p>
            <p>The location of a player or item within the plane is a pair
                of real numbers (x,y), just like when plotting points on the
                plane in an algebra class.  The only difference is that the
                values follow the standard computer-screen convention that
                larger y values are further <i>down</i> the screen, rather
                than the convention in high school algebra, in which larger
                y values are further <i>up</i>.</p>
            <p>Each plane is a grid of cells, and each cell is 1 unit wide
                and 1 unit high.  So as a player walks from one square block
                on the map to the next one to the right, say, his or her x
                coordinate increases by 1.  Players' x and y coordinates
                can be fractional, because players may be, for example, 15%
                of the way into a block at any point in time.</p>
            <p>Thus a player's location is made up of three parts:  The
                number of the plane he or she is in (0, 1, 2, ...) and then
                his or her coordinates within that plane (e.g., (2.6,-1.0)).
                In the game, a location is an array of these three itmes,
                in <code>[ plane, x, y ]</code> form.  All new players log
                into the game initially at position
                <code>[ 0, 0, 0 ]</code>, which is called the "origin."</p>
            <p>If a new player began walking up and to the right, their
                coordinates might become, for example,
                <code>[ 0, 1.5, -1.5 ]</code>, after they had walked one and
                a half cells up and to the right.  Each maker can see his or
                her own position beneath the avatar's name on the top right
                of the game map.  Non-makers cannot see their position in
                that way.</p>
            <p>The initial value (the 0 indicating which plane they are on)
                cannot change as players walk around normally.  They would
                need to enter some kind of teleportation device to change
                planes.</p>
            <p>The game is first created with just one plane, plane 0.
                Makers can create new planes using the Database command
                button, and choosing the Blocks table within it.  It is
                common for a maker to begin his or her time as a maker by
                creating a new plane to have as their own private home, and
                then experimenting with their maker capabilities on that
                plane, where no one else can interfere, nor be harmed by any
                mistakes the maker might make during experimentation.</p>

            <h2>How do I edit code?</h2>
            <p>There are a few places as a maker where you will find
                yourself viewing a code editor.  One is when you are
                <a href='animationcoding.html'>editing the implementation of
                an animation</a>; another is when
                <a href='behaviorcoding.html'>editing the implementation of
                a behavior</a>; there will be others.  In each situation,
                the game shows you a small code editor that is initially
                blank, and which you must fill with code.</p>
            <p>There are two things you need to know in order to be able to
                write the code that goes in that blank.  First, how does one
                use the editor itself?  Second, how does one figure out what
                code to write?</p>
            <p>As far as using the editor itself, that is fairly
                straightforward.  Here are a few highlights:</p>
            <ul>
                <li>You will be coding in JavaScript, and the editor does
                    syntax hightlight for JavaScript automatically.</li>
                <li>The editor is smart enough to allow you to use tabs
                    (without it shifting focus out of the editor) and it
                    will often indent automatically for you (for example,
                    after you type a { and press enter).</li>
                <li>You can use keyboard shortcuts for Cut (Ctrl/Cmd+X),
                    Copy (Ctrl/Cmd+C), Paste (Ctrl/Cmd+V), Undo
                    (Ctrl/Cmd+Z), and possibly others.</li>
                <li>Pressing F11 when your cursor is in the code window will
                    cause the code editor to fill your browser.  This helps
                    you see your code better and removes the distractions of
                    the game map on the left.  When you are done editing,
                    you must press F11 again to return to the small size
                    editor, then click the appropriate "save" button to save
                    your work.</li>
            </ul>
            <p>As far as the question about how to figure out what code to
                write, follow one of the links above to learn about coding
                animations or behaviors.</p>

            <h2>How do I reset an area and what does that mean?</h2>
            <p>The game map is split up into rectangular blocks of cells.
                As players walk onto new areas of the map, the blocks of
                cells for those new areas are loaded from disk so that
                they are ready to be shown to the player.  Similarly, the
                blocks that the player can no longer see are dropped from
                the game's memory, since no player needs them.</p>
            <p>Each block contains not only cells (the square images that
                make the map look how it does), but also the landscape
                items that sit on top of the cells (e.g., trees, rocks,
                pillars, signs, etc.).  When a block of cells is loaded from
                disk into memory, all its landscape items are also loaded,
                and the behavior code for each is run.</p>
            <p>If you've just edited an item in your environment and need it
                to get reloaded (for example, for
                <a href="behaviorcoding.html">an attached behavior</a> to
                get installed or updated), you can force the game to reload
                all the blocks you can see from scratch.</p>
            <p>(Although it's possible to accomplish this by walking
                very far away from your current location, then walking back,
                that's a waste of time, and it only works if no one else is
                around.)</p>
            <p>To reset the area you can see, click the Reset command
                button.  You will not necessarily see anything happen on
                the game map, but if you edited anything about landscape
                items (such as their behaviors) your changes have now been
                applied.</p>

            <h2>What is my maker error log and where can I find it?</h2>
            <p>Each maker has a personal error log.  It will contain any
                messages logged when code you write executes the
                <code>log()</code> command.  It will also contain a record
                of any errors thrown by code you write.</p>
            <p>To see your maker log, click the Database command button,
                then click the Maker Error Logs table.  You can browse the
                messages in the log or clear the log out.</p>
            <p>If something isn't working as you expect, you should check
                your maker error log to see if there's helpful debugging
                information there.  Even if everything seems to be working
                fine, it's a good idea to look there now and again, to see
                if any otherwise-undetected errors are taking place.</p>

        </div>
    </body>
    <script src='codemirror-for-textareas.js'></script>
</html>
